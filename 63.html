<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="source/favicon.ico" type="image/x-icon">
    <title>Уроки | University 2.0</title>
    <link rel="stylesheet" href="source/main.css">
    <link rel="stylesheet" href="source/style.css">

    <link rel="stylesheet" href="source/tikets.css">
    <link rel="stylesheet" href="source/profile_window.css">

    <link rel='stylesheet' href="source/default.css">
    <link rel='stylesheet' href="source/idea.css">
    <script type="text/javascript" src="source/highlight.pack.js"></script>
</head>
<body>


    <div id="myfond_gris" opendiv=""></div>
    <div align="center" style="padding-top:35px;">
        <div id="box_1" class="mymagicoverbox_fenetre" style="left:-225px; width:450px;">
            Anon | 00500
            <div class="mymagicoverbox_fenetreinterieur" style="height:220px; ">
                <div align="left">
                    <p class="lead">Имя пользователя: Anon</p>
                    <p class="lead">Статус: Активен</p>
                    <p class="lead">Регистрация jabber: <a target="_blank" href="http://plast.cash/registration.php?key="></a></p>
                    <p class="lead">Поток: Anon</p>
                    <p class="lead">TG канал: <a target="_blank" href="">Канал для опретивных оповещений</a></p>
                    
                    <br><br>
                    <div style="width:100px" align="center" class="mymagicoverbox_fermer">Закрыть</div>
                </div>
            </div>
        </div>
    </div>



<div class="main_container">
    <header>
        <a href="index.html"><img class="logo" src="source/logo.png" alt="University 2.0"></a>
        <div class="header_right">
            <div class="user_info">
                <p>Hello,
                <a href="#" iddiv="box_1" class="mymagicoverbox"> Anon </a>


                </p>
                <p>ID: 00500</p>
            </div>
            <div class="user_actions">
                <a href="help.html"
                   class="btn btn_gray btn_transparent btn_border_transparent btn_icon btn_icon_help">Помощь</a>
                
                    
                    <a href="index.html" class="btn  btn_round btn_status btn_status_active btn_gray btn_exit">Выход</a>
                
            </div>
        </div>
    </header>
    <div class="container">
        <nav>
            <a href="index.html" class="btn btn_icon btn_icon_dashboard ">Сводка</a>
            <a href="lections.html" class="btn btn_icon btn_icon_book active">Лекции</a>
            <a href="index.html" class="btn btn_icon btn_icon_group ">Тикеты</a>
            <a href="faq.html" class="btn btn_icon btn_icon_chat ">FAQ</a>
        </nav>
        <div class="content">



<div class="banner_block" style="background-image:url('source/virusology.jpeg')">
        <div class="banner_content">
            <h2>Разновидности вирусов</h2>
            <p>Вирусология</p>
            <p>Зголовок обновика</p>
        </div>
    </div>
    <br>

            

            
    <div class="article_actions">
        <a href="virus.html" class="btn btn_round btn_gray  btn_icon btn_icon_back ">Назад</a>
    </div>
    
 <div class="text_content">
        <p>При работе в вирусологии есть частая необходимость запускать вирусы у себя на машине. Перед использованием пейлоада его нужно проверять, чтобы не возникло ситуации, когда из-за неправильных начальных настроек теряются боты. При проверки вируса надо помнить два железных правила:</p>

<p><strong><span style="color:#c0392b">Не запускать </span>вирус на основной системе или виртуалке с ценными данными.</strong><br />
<strong><span style="color:#c0392b">Не давать </span>вирусу возможности прямого выхода в интернет.</strong></p>

<p>Эти правила распространяются и на ситуации, когда требуется протестировать свой вирус. Не смотря на то, что он связан с вашей панелью, наличие вируса в системе открывает новые вектора атаки.</p>

<p>Прямой доступ в интернет убирается для того, чтобы не оставлять лишних логов. В вирусологии очень важно не попадаться в логи. Именно с ними связано большинство ошибок и это самый частый источник деанонимизации. Как вы уже знаете, логов пишется много, в них попадает по максимуму доступных данных, а хранятся они чуть ли не вечно. Вот несколько примеров того, какие следы по ошибке могут быть оставлены, и к чему это может привести:</p>

<ul>
    <li>Случайно был запущен свой вирус на основной системе без VPN или на виртуалке с прямым подключением
    <ul>
        <li>IP оседает в логах. Это не значит, что уже все кончено, если вирус ещё не был замечен в атаках, то эту информацию никогда и не откроют. Но стоит вирусу с засвеченным командным центром принять участие в большой атаке, как спецслужбы начнут просматривать логи. Подключение к командному центру на этапе настройки легко обнаружить. <strong><span style="color:#c0392b">В случае оставления своего IP или даже IP персонального VPN на этапе настройки вируса, лучше сменить сервер командного центра.</span></strong></li>
        <li>При использовании приватных вирусов надо обратить ещё внимание на то, что не только по командному центру могут найти, но ещё и сам вирус может оставить следы. Антивирусные компании анализируют трафик различных вирусов и по нему могут определить, от куда началась атака. Если до начала атаки при переносе на основную систему антивирус заметил файл, то по этому логу получится вычистить хакера. <strong><span style="color:#c0392b">Антивирусом лучше вообще не пользоваться</span></strong>: в последнее время внедряются cloud функции, которые отправляют любые подозрительные или просто новые файлы в лабораторию. Само собой, в случае чего у них будут все логи, и то, что у вас на машине нашли вирус, который через несколько недель разошёлся по тысячам машин, всплывёт на поверхность. А как антивирус с хоста может определить вирус внутри виртуалки - общие папки. Зачастую без их использования не обойтись, и попади файл туда, как антивирус может сразу же его оприходовать.</li>
    </ul>
    </li>
    <li>Случайно был запущен свой вирус на основной системе или виртуальной, но с VPN
    <ul>
        <li>Ситуация сильно не меняется. <span style="color:#c0392b"><strong>Для крупных дел нельзя использовать только VPN</strong></span><span style="color:null">. Он работает для защиты от логирования провайдером и даёт дополнительную </span>защиту <span style="color:null">и страховку, но если будет веский повод найти вас, то VPN не станет непреодолимой преградой. <strong>Добиться намного большей анонимизации можно с TOR</strong></span>.</li>
    </ul>
    </li>
    <li>Случайно был запущен свой вирус в настроенной виртуальной машине, но не предназначенной для этого.
    <ul>
        <li>Надо вручную убить задачу с ним и удалить payload из системы(по месту его установки). Удалять надо вручную, не используя антивирус</li>
    </ul>
    </li>
</ul>

<div style="background:#eeeeee none repeat scroll 0% 0%; border:1px solid #cccccc; padding:5px 10px; text-align:center">Все создаваемые и клонируемые виртуальные машины <span style="color:null"><strong>перед первым запуском надо проверять</strong></span>. Надо смотреть, настройки подключения в свойствах машины в VirtualBox. Все машины для вирусологии должны подключаться <strong>одним</strong> виртуальным адаптером через <u>внутреннюю сеть whonix.</u></div>

<p style="margin-left:40px"><a href="source/jh1.png"><img alt="" src="source/jh1.png" style="float:left; height:396px; width:505px" /></a><a href="source/js2.png"><img alt="" src="source/js2.png" style="height:400px; width:713px" /></a></p>

<p>Это основа безопасности. Теперь о том, как упростить управление виртуальными машинами, и не наследить.</p>

<h2 style="text-align:center">Клонирование вируалок</h2>

<p>Желательно для каждого теста использовать отдельные виртуалки, чтобы данные с тестов не пересекались. Это не значит, что надо устанавливать windows по 20 раз в день. Достаточно сделать основу, преднастроенную виртуалку, и потом копировать её. Так можно будет быстро штамповать готовые для тестов виртуалки. Он надо помнить несколько вещей: поскольку виртуалки берутся с одной машины, то у них много идентичных идентификаторов системы. По сути, если запустить один вирус на двух клонах одной машины, то с контрольного сервера можно определить сходство машин и точно сказать, что запускает их один человек. Для нас это не принципиально, клонами мы пользуемся для того, чтобы вирусы не оказывали друг на друга влияние, и чтобы в системе не было вообще ничего, что может представлять ценность.</p>

<div style="background:#eeeeee; border:1px solid #cccccc; padding:5px 10px">Использование новых клонов для тестов важно по ещё одной причине: большинство вирусов проверяет, нет ли их уже в системе, чтобы предотвратить повторный запуск. Поэтому <strong>при переиспользовании клона могут возникнуть проблемы с отстуком</strong>.</div>

<p><br />
<strong>Виртуальные машины стоит разделять на несколько типов</strong>. Для настроек и для тестов. Как ни странно, <em>guest additions можно ставить куда угодно</em>. Само его наличие не снижает безопасность. Extension pack, который увеличивает интеграцию виртуальной машины с железом хоста использовать, ставить не надо. Да и необходимости в нём нет. На виртуалках для настройки можно использовать и общий буфер, и общие папки. Но надо понимать, что стоит избегать всех возможностей попадания туда вируса(так же учесть, что если на хосте стоят супервизор программы, которые могут просматривать содержимое папок хоста, - тот же самый антивирус, - общие папки лучше не использовать).</p>

<p>&nbsp;</p>

<h2 style="text-align:center">Проверка детектов перед использованием</h2>

<p>Детект - определение антивирусом payload как вредоносного файла. Они выгладят примерно так 5/32. Это значит, что из 32 проверенных антивирусов, 5 определили вирус.</p>

<h3 style="text-align:center">Есть только 2 способа держать детекты около 0</h3>

<ol>
    <li style="text-align:center"><strong>Крипт</strong><br />
    Это процесс изменения внутреннего устройства исполняемого файла и маскировки его функций с целью обхода детектов антивируса. Его могут выполнить как крипторы, так есть и автоматические сервисы. Например, хорошим вариантом для автоматического крипта является <a href="https://cryptor.biz/">cryptor.biz</a></li>
    <li style="text-align:center"><strong>Обновление кода</strong><br />
    При этом сам разработчик или человек с исходным кодом вируса меняет его так, чтобы снизить детекты. Такие предложения встречаются у некоторых приватных вирусов. В основном, это отдельная услуга, потому что требуется ручная адаптация под каждого клиента. Так же есть вирусы, которые идут с регулярным обновлением кода, но с ростом числа пользователей эффект от этого падает.</li>
</ol>

<p>Ни крипт, ни новый стаб не гарантируют 0 детект на долгое время. В некоторых случаях даже получить 0 детектов невозможно, поэтому даже после крипта может остаться 1-2 детекта. Поскольку крипт выполняется массово, то он спадает через какое-то время не зависимо от того, использовался ли файл. В основном, это от 12 часов до полутра дней. При использовании персональной версии приватного вируса количество детектов и время, через которое они будут появляться, зависят от использования файла. Любой вирус по мере массового использования обрастает датектами.</p>

<p>Есть несколько типов детектов. Статический и runtime.<br />
<strong>Статический </strong>- антивирус определяет вирус ещё до момента запуска.<br />
<strong>Runtime </strong>- тревога поднимается во время выполнения программы.</p>

<p>Оценка именно runtime детектов даёт более полное представление о определяемости антивирусами вируса. Очень часто крипторы основываются только на статических детектах и дают статистику только по ним. Но если делался некачественный крипт, то runtime проверки могут просто убить его. Легко может быть такая ситуация, что статических детектов 0, а при запуске вирус что только не находит.</p>

<h3 style="text-align:center">Методы проверки детектов</h3>

<ol>
    <li><span style="color:#4e5f70"><em><strong>Online сервисы.</strong></em></span><br />
    Самым популярным является <strong>virustotal.com</strong>(бесплатная статик проверка). Уже пошли чекать там свои вирусы? - остановитесь. Этот сервис сливает всю инфу антивирусным компаниям. Каждый загруженный туда файл проверяется антивирусными компаниями вне зависимости от того, сколько детектов нашлось автоматически. Залил только что закриптованный вирус на virustotal.com -- получи 10 детектов в подарок.<br />
    <br />
    <strong>nodistribute.com</strong>(платная статик проверка). По из заявлениям и названию можно подумать, что они не сотрудничают с антивирусными компаниями, но по факту они так же портят детекты и сливают информацию<br />
    <br />
    <strong>dyncheck.com</strong>(платная статик и runtime проверка). Этот сервис - хорошее решение для проверки. Можно выбирать антивирусы, на которых требуется проверка, что снижает стоимость скана. Для больших объёмов есть подписки. Единственный минус - runtime проверки с полным функционалом есть только в подписках, которые не самые дешевые.<br />
    &nbsp;</li>
    <li><span style="color:#4e5f70"><em><strong>Установка к себе антивируса в систему и проверка срабатываний на нём.</strong></em></span><br />
    Лол. удачи<br />
    &nbsp;</li>
    <li><span style="color:#4e5f70"><em><strong>Настройка специальной виртуалки для тестов.</strong></em></span><br />
    Это хороший метод полностью проверить вирус с нулевой вероятностью утечки информации о нём. Самый простой метод - поставить на отдельную windows виртуалку интересующий антивирус(пробную версию), а после установки отключить интернет. Принести сам вирус можно через общую папку(но можно придумать и более сложный метод). После запуска вируса будет понятно, что о нём думает антивирус, пока тот исполняется. Поскольку интернет на виртуалке обрезан, слить данные о файле антивирусу не получится. После окончания теста, когда будет понятно, есть детекты или антивирусу параллельно на выполняющийся вирус, виртулка с антивирусом удаляется или откатывается на момент до начала теста.<br />
    <br />
    У этого метода есть существенный минус: без доступа к интернету вирус может не работать. В таком случае надо настраивать доступ в интернет через firewall, когда разрешён доступ только к командному серверу вируса.</li>
</ol>
    </div>
    <br>   

 
        </div>
    </div>
</div>
<footer>
    <p>University 2.0</p>
</footer>

</body>
</html>